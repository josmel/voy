(function(c){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(g){for(var f=0;f<this.length;f++){if(this[f]===g){return f}}return -1}}var b=[],e=9999,a=50,d=function(f){var g={id:null,msg:null,lifetime:5000,speed:350,type:"echo",element:"div",bottom:"50px",themes:{echo:{background:"#F9EDBE",border:"1px solid #E5AD43",color:"#222222"},success:{background:"#dff0d8",border:"1px solid #d6e9c6",color:"#468847"},warn:{background:"#f2dede",border:"1px solid #eed3d7",color:"#b94a48"},debug:{background:"#d9edf7",border:"1px solid #bce8f1",color:"#3a87ad"}},commonStyle:{"font-family":"tahoma, arial, sans-serif","font-size":"12px","font-weight":400,left:0,"line-height":"15px",opacity:"0.80",padding:"8px 8px 8px 12px",position:"fixed",width:"35%","word-wrap":"break-word","z-index":e},callback:{load:null,unload:null}};this.style=this.style||"";this.el=null;this.$el=null;this.destroyed=0;this.prefix="e";this.btnClose=".echo-btn-close";this.isRepeat=0;this.id=null;this.settings=c.extend(g,f);this.init()};d.prototype.rand=function(){var f=function(){return Math.floor(Math.random()*a)},g=f();if(b.indexOf(g)<0&&g!==undefined){this.id=g;return g}else{a++;return this.rand()}};d.prototype.construct=function(){this.settings.id=this.prefix+this.rand()};d.prototype.scout=function(){var m=this,h=m.settings.msg,g="",f="&nbsp;&nbsp;",j=3,l=0;for(i=0;i<l;i++){f+="&nbsp;&nbsp;&nbsp;&nbsp;"}if(h.toString()=="[object Object]"){for(var k in h){if(h[k].toString().indexOf("return new e.fn.init(a, b, h);")>=0||h[k].toString().indexOf("function()")>=0||h[k].toString().indexOf("jquery")>=0||h[k].toString().indexOf("constructor")>=0){g=g.replace(f+"<strong>context</strong>:<br>","");g=g.replace("<br>"+f+f+"[object HTMLDocument]","");return h=h+g}g+="<br>"+f+"<strong>"+k+"</strong>:<br>"+f;if(h[k].toString().indexOf("function")>=0){g+=f+"function()"}else{if(h[k].toString()=="[object Object]"){l=l+1;if(l<=j){}}else{g+=f+h[k].toString()}}}}h=h+g;return h};d.prototype.appendStyles=function(){var h=this,g=null,f=h.btnClose+" { position: relative; top: -2px; right: 0; line-height: 20px; padding: 0; cursor: pointer; background: transparent; border: 0; color: #000000; float: right; font-size: 18px; font-weight: bold; opacity: 0.3; text-shadow: 0 1px 0 #FFFFFF; }";f+=h.btnClose+":hover { opacity: 0.6; }";g=document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=f}else{style.appendChild(document.createTextNode(f))}g.appendChild(style)};d.prototype.getStyle=function(){var h=this,g="";for(var f in h.settings.commonStyle){if(h.settings.commonStyle.hasOwnProperty(f)){g+=f+":"+h.settings.commonStyle[f]+";"}}for(var f in h.settings.themes[h.settings.type]){if(h.settings.themes[h.settings.type].hasOwnProperty(f)){g+=f+":"+h.settings.themes[h.settings.type][f]+";"}}g+="bottom:"+h.settings.bottom;h.style=g;return h.style};d.prototype.createBox=function(){var h=this;e++;b.push(h.id);h.el=document.createElement(h.settings.element);h.el.setAttribute("id",h.settings.id);h.el.setAttribute("data-type",h.settings.type);h.el.setAttribute("style",h.getStyle());h.button=document.createElement("button");h.button.setAttribute("class",this.btnClose.substring(1,this.btnClose.length));h.button.setAttribute("title","Cerrar");h.button.innerHTML="x";c(h.el).html(h.scout());c(h.el).append(c(h.button));c(h.button).on("click",function(j){h.destroy()});h.$el=c(h.el);c("body").append(h.$el);for(var g=0;g<b.length;g++){var f=c("#"+this.prefix+b[g]);if(g>0){f.css("bottom",(bottom+(height-1))+"px");bottom=parseInt(f.css("bottom"));height=parseInt(f.outerHeight())}else{bottom=parseInt(f.css("bottom"));height=parseInt(f.outerHeight())}}h.settings.callback.load&&this.settings.callback.load(h);if(h.settings.lifetime!==0){setTimeout(function(){h.destroy()},h.settings.lifetime)}};d.prototype.each=function(){var h=this,f=null;if(b.length>0){for(var g=0;g<b.length;g++){f=c("#"+this.prefix+b[g]);if(f!=null){if(f.attr("data-type")===h.settings.type){if(h.settings.msg==f.text().substring(0,f.text().length-1)){h.isRepeat=1;break}}}}}};d.prototype.init=function(){this.construct();this.each();if(this.isRepeat===0){this.appendStyles();this.createBox()}};d.prototype.destroy=function(){var f=this;if(f.destroyed===0){f.$el.fadeOut(f.settings.speed,function(){f.$el.remove();f.destroyed=1;b.splice(b.indexOf(f.id),1)})}};c.fn.Echo=function(f){if(typeof f=="undefined"||f.constructor==Object){new d(f)}else{c.error("El parÃ¡metro proporcionado "+f+" esta mal declarado o no es un objeto")}}})(jQuery);function echo(b,a){if(!a){a=5000}$.fn.Echo({msg:b,type:"echo",lifetime:a})}function debug(b,a){if(!a){a=99999}$.fn.Echo({msg:b,type:"debug",lifetime:a})}function warn(c,a,b){b=b||"200px";if(!a){a=4000}$.fn.Echo({msg:c,type:"warn",lifetime:a,bottom:b})}function success(b,a){if(!a){a=5000}$.fn.Echo({msg:b,type:"success",lifetime:a})};